onload: 
  host: haproxy-onload.haproxy-onload.svc.cluster.local
  port: 8080
  
varnish:
  size: 256M
  configuration: |
    |-
    vcl 4.1;
    
    include "hit-miss.vcl";
    
    backend onload {
      .host = "{{ .Values.onload.host }}";
      .port = "{{ .Values.onload.port }}";
    }

    backend default {
      .host = "{{ .Values.backend.host }}";
      .port = "{{ .Values.backend.port }}";
      .via = onload;
    }
    
    sub vcl_backend_fetch {
      set bereq.http.Host = "{{ .Values.backend.host }}";
    }
    
    sub vcl_deliver {
      unset resp.http.x-amz-request-id;
      unset resp.http.x-debug-bucket;
      unset resp.http.x-rgw-object-type;
    }