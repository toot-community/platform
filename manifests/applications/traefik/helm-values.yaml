nameOverride: "traefik"
fullnameOverride: "traefik"

affinity: {}

deployment:
  kind: DaemonSet

updateStrategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1
    maxSurge: 0

ingressClass:
  enabled: true
  isDefaultClass: false
  name: traefik

hostNetwork: true
dnsPolicy: ClusterFirstWithHostNet

entryPoints:
  web:
    address: ":10080"
    proxyProtocol:
      trustedIPs:
        - "10.0.0.0/8"
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https

  websecure:
    address: ":10443"
    proxyProtocol:
      trustedIPs:
        - "10.0.0.0/8"
    http:
      tls: {}

  web-alt:
    address: ":10280"

ports:
  web:
    port: 10080
    hostPort: 10080
  websecure:
    port: 10443
    hostPort: 10443
  web-alt:
    port: 10280
    hostPort: 10280
  metrics:
    port: 10100
    hostPort: 10100

service:
  enabled: true
  type: LoadBalancer
  annotations:
    load-balancer.hetzner.cloud/name: ingress-traefik-lb
    load-balancer.hetzner.cloud/use-private-ip: "true"
    load-balancer.hetzner.cloud/protocol: tcp
    load-balancer.hetzner.cloud/algorithm-type: round_robin
    load-balancer.hetzner.cloud/type: lb11
    load-balancer.hetzner.cloud/location: fsn1
    load-balancer.hetzner.cloud/private-ipv4: 10.0.1.254
    load-balancer.hetzner.cloud/uses-proxyprotocol: "true"
  ports:
    web:
      port: 80
      targetPort: 10080
    websecure:
      port: 443
      targetPort: 10443

metrics:
  prometheus:
    enabled: true
    port: 10100
    hostPort: 10100

providers:
  kubernetesCRD:
    enabled: true
  kubernetesIngress:
    enabled: true
rbac:
  enabled: true
securityContext:
  capabilities:
    drop: [ALL]
    add: [NET_BIND_SERVICE]
  readOnlyRootFilesystem: true
  runAsGroup: 0
  runAsNonRoot: false
  runAsUser: 0