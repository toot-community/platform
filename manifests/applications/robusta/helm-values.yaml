clusterName: tootcommunity-prod
enableHolmesGPT: true
enablePlatformPlaybooks: true
enablePrometheusStack: false
enabledManagedConfiguration: true

runner:
  sendAdditionalTelemetry: true
  additional_env_vars:
    - name: ROBUSTA_UI_TOKEN
      valueFrom:
        secretKeyRef:
          name: robusta-secrets-env
          key: ROBUSTA_UI_TOKEN
    - name: MAIL_SINK_PASSWORD
      valueFrom:
        secretKeyRef:
          name: robusta-secrets-env
          key: MAIL_SINK_PASSWORD
    - name: MAIL_SING_USERNAME
      valueFrom:
        secretKeyRef:
          name: robusta-secrets-env
          key: MAIL_SING_USERNAME
    - name: ROBUSTA_ACCOUNT_ID
      valueFrom:
        secretKeyRef:
          name: robusta-secrets-env
          key: ROBUSTA_ACCOUNT_ID
    - name: ROBUSTA_SIGNING_KEY
      valueFrom:
        secretKeyRef:
          name: robusta-secrets-env
          key: ROBUSTA_SIGNING_KEY

globalConfig:
  account_id: "{{ env.ROBUSTA_ACCOUNT_ID }}"
  signing_key: "{{ env.ROBUSTA_SIGNING_KEY }}"

holmes:
  additionalEnvVars:
  - name: ROBUSTA_AI
    value: "true"
  toolsets:
    prometheus/metrics:
      enabled: true
      config:
        prometheus_url: http://vmsingle-vm.victoriametrics.svc.cluster.local.:8429
    kubernetes/live-metrics:
      enabled: true

sinksConfig:
- robusta_sink:
    name: robusta_ui_sink
    token: "{{ env.ROBUSTA_UI_TOKEN }}"
- mail_sink:
    name: mail_sink
    mailto: "mailtos://{{ env.MAIL_SING_USERNAME }}:{{ env.MAIL_SINK_PASSWORD }}@email-smtp.eu-west-1.amazonaws.com?from=robusta@ses.jorijn.com&to=jorijn@jorijn.com"
